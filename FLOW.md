# 🚨 CRITICAL: GLOWHOST CONTACT FORM SYSTEM FLOW

## ⚡ READ THIS FIRST - MANDATORY FLOW DOCUMENTATION

**Any AI assistant working on this project MUST understand this flow before providing guidance to users.**

---

## 🚨 **STEP 0: PROTOCOL CHECK (MANDATORY FIRST STEP)**

### **BEFORE ANY ACTION - CHECK MESSAGE PREFIX:**
```
□ Does message start with "q:" or "Q:"?
  ├─ YES → ANALYSIS ONLY (see PROTOCOL.md)
  └─ NO → Continue with flow documentation below
```

**🚨 CRITICAL**: If you skip this check and take actions after a "q:" message, you create costly protocol violations that require 15-45 minutes to recover from.

---

## 🎯 **CORRECT USER INSTALLATION FLOW**

### **Entry Point: detect.php (NOT installer.php!)**

```
1. 📥 USER DOWNLOADS: detect.php
   Command: wget https://raw.githubusercontent.com/GlowHost-Matt/contact-form-sales/master/detect.php -O detect.php

2. 🌐 USER VISITS: https://their-domain.com/detect.php
   - System qualification checks
   - Environment verification
   - Download options presented

3. 📦 DETECT.PHP DOWNLOADS: installer.php
   - User clicks "Download Installer"
   - detect.php downloads installer.php automatically
   - OR user can use manual methods

4. 🚀 USER RUNS: installer.php
   - 5-step installation wizard
   - AUTOMATIC database creation (v3.1.1+)
   - Professional setup experience

5. 🔒 SECURITY CLEANUP: Mandatory
   - Installation files removed
   - Admin access enabled
   - System secured
```

---

## ❌ **COMMON MISTAKES TO AVOID**

### **NEVER Do These:**
- ❌ Skip the "q:" protocol check (see PROTOCOL.md)
- ❌ Tell users to wget installer.php directly
- ❌ Skip detect.php qualification
- ❌ Assume files are "live" on user's server
- ❌ Bypass the designed entry point

### **ALWAYS Do These:**
- ✅ Check message prefix for "q:" FIRST
- ✅ Start with detect.php
- ✅ Follow the qualification → installer → cleanup flow
- ✅ Emphasize detect.php as the entry point
- ✅ Explain that installer.php comes FROM detect.php

---

## 🚀 **KEY SYSTEM FEATURES**

### **detect.php v1.5:**
- System requirement checks
- Connectivity testing with debugging
- Multiple download options with clear explanations
- Version tracking and diagnostics

### **installer.php v3.1.1:**
- **AUTOMATIC DATABASE CREATION** (like WordPress/Drupal)
- Permission detection and smart setup
- 5-step wizard with real-time feedback
- Professional UX matching modern standards

### **Security System:**
- Mandatory cleanup enforcement
- Admin access protection until secure
- File removal verification
- Professional security checkpoint UI

---

## 📋 **FOR AI ASSISTANTS: CRITICAL REMINDERS**

1. **PROTOCOL CHECK**: Always check for "q:" prefix FIRST (see PROTOCOL.md)
2. **ENTRY POINT**: Always start users with detect.php
3. **NO DIRECT INSTALLER**: Never suggest wget installer.php directly
4. **FLOW INTEGRITY**: Respect the designed qualification → setup → security flow
5. **NO ASSUMPTIONS**: Don't assume files are live on user's server
6. **GITHUB TRUTH**: Repository is source of truth, not user's server

---

## 🛠️ **DEPLOYMENT REALITY**

### **What AI Can Do:**
- ✅ Modify files in development environment
- ✅ Push changes to GitHub repository
- ✅ Provide deployment commands

### **What AI CANNOT Do:**
- ❌ Deploy directly to user's live server
- ❌ Assume files are live without user deployment
- ❌ Access user's server directly

---

## 📞 **USER SUPPORT COMMANDS**

```bash
# CORRECT - Start with detect.php
wget https://raw.githubusercontent.com/GlowHost-Matt/contact-form-sales/master/detect.php -O detect.php

# THEN visit: https://your-domain.com/detect.php
# LET detect.php handle the rest of the flow!
```

**🎯 Remember: CHECK Q: PROTOCOL FIRST → detect.php is the gateway → respect the flow!**
